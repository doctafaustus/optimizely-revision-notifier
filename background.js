var notificationOptions = {
	type: 'basic',
	title: 'CDN Updated',
	message: null,
	iconUrl: 'data:image/png;base64,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/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAwBQTFRFAAAAgAAAAIAAgIAAAACAgACAAICAwMDAwNzApsrwVD5IW0JOSTY/QC8799L+78z+68j+5sP+4L7+TC1rQiddUTBxRSlhYTqHXDeAMh5GdkekdEaib0ObakCUZz6Qg0+2ckWfTzBuhVG5bEKWZD2LXjmCj1jGjFbCiVS+nGLWpGjePihUcEmXhVqwqHXbTTZjn3TJd1ySXEdwvJLkVEFms47YalR/ZVF5gWqYjHOkiHCgl32xmX+zqY3Fr5LLy6rrv6DduZvWw6ThspbOz6/v2rn71bT1PyVaRyplOyNUUzJ1WTZ9VjR5gE6zfk2we0useEmok1zLr3LtuHn4jGG4STdcV0Jtg2ahYE10cVyHk3mvfGaTooe+j3eopIrAnYW3xanklom3YVt9e3mWl5a0oqG/vLvXwsPdTU5jcHGEiYuisrTM19nyQEFLqKq/m561ys3k3+L509bq6ez88fP99/r+Ojo6SUlJV1dXZmZmdXV1kpKSr6+vzMzMC3VJDYhXD5xmEa90E8KCFdWQF+mfGfytLpyrFkNKQGK2QQCIWAC4bwDoMABkNgBwRwCUTQCgXgDEZADQagDcdQD0PAB8UwCs///W//+t//+D//9a//8x/v4b/vAb/u0b+Ocb8eEb6tob49Qb3M0b1ccbzsAbx7obwLMbua0bsqYbqqAbo5kbnJMblYwbjoYbh38bgHkbeXIbcmwba2UbW1YWS0YSOzcNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//vwoKCkgICA/wAAAP8A//8AAAD//wD/AP//////FGwNQQAAAP90Uk5T//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AZvyKWQAAD1JJREFUeNrMmltzG9lxx/995gJSJKDVOrpSIgCCIkhCokDOgJRdKW/ZfrEtW964UonLqbzkQ+yHSOU5yaMTJymn8hRnvXmIN7uucqIVgQFJURQIECAoSJQUydkLQEnEDE53HgbkktKWrV0C68wLq3AG+LH7dPfpyyHG7+Wh//fcBPzgSc+46pWxIsNXv9czrvmK752NENq3kLCp9eBL1PPZCJsBBHYnErRdeftL4iZYZF5AWCTL8CN08eaTL4N7cTfHK4bGDIho2QhsSnfe6T83rnOrNmfWMmtE/qWCUnaL3BtP+m3PCc6t2pwpm+WMiL2SA4CofDXVZ26acwzJlAEBBAbEAuDJ1Mn++pGI3BrkdQq3xc/AFaK8udr+6qnHfZT3+22BEfIn76gAG0qVVzlnsrVifL+PXM+GQDApk7oU+PYVBdHPtP90ZuayW7neP260DYCAyTUCbLkZ/Hq3yfkCFZj1h5zq2/42rX2XQ+ZOc9h9Defea+YAoGgwzjzqD/f08d2QCXqupfmt4WNA55utd4FvbQIFN98neRfWw79rAAX5b54xCDrahsL1SHT8lyjm+sQV38wyAGSwpoZG/xJvcWAG9I3I8adq6Bu/6lucPGcZWb1mixiYXDv3Ht4SHZhBm18XHcgHp4qP+mTPYvsCAJjEesYBILD9v7cI/NxAFo/65EfXo23ILYAA4P5f4S1BsPPXrb+BBHjOdrRf/iu+mRMDXfBbgDA6AABb9N/+a9/iVUV8ufXpf/GWALYNIMKMf8HDPp0L09AONLTh2yEX0k17fGVaw60+nYPTCOzyOmag4QOgNgs4YPvs2R+Q/Rx/DPxzX+SVj2M7toVbc/f5hPrwWHz913+IwH5q/snOx8Ms6CDaHz3vRqa5mHmUeHpCUABeP/+/H71uPxWj6ddpxjLkL+z+5FfTk0tz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',
};


chrome.runtime.onMessage.addListener(function(message, sender, sendResponse) {

	if (message.clearBadge) {
		chrome.browserAction.setBadgeText({ text: '' });
		sendResponse({ acknowledgement: 'Badge cleared!' })
	}

	if (message.revision) {
		notificationOptions.message = message.revision;
		sendResponse({ acknowledgement: 'Revision received!' });
		chrome.notifications.create(null, notificationOptions, function() {
			// Set badge with the revision number
			if (notificationOptions.message.length > 3) {
				notificationOptions.message = '..' + notificationOptions.message.slice(-3);
			}
			chrome.browserAction.setBadgeText({ text: notificationOptions.message });
			chrome.browserAction.setBadgeBackgroundColor({ color: '#683cb7' });
		});
	}

});

